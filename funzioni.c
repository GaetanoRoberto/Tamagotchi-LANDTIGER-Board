/* Includes ------------------------------------------------------------------*/
#include "LPC17xx.h"
#include "GLCD/GLCD.h" 
#include "TouchPanel/TouchPanel.h"
#include "timer/timer.h"
#include "RIT/RIT.h"
#include "joystick/joystick.h"
#include <stdio.h>


 uint8_t animazione=0;
 uint8_t sazieta=5,felicita=5 ;
 uint8_t frame = 0;
 uint8_t morto = 0;
uint8_t h = 0,m = 0,s= 0;
 uint8_t disable_joystick = 0;
 uint8_t suono = 0;
int volume ;

const int freqs[8]={2120,1890,1684,1592,1417,1263,1125,1062};
//const int freqs[8]={4240,3779,3367,3175,2834,2525,2249,2120};



int matrice1[20][16]={
{0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,0},
{0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,0,0,0,1,1,1,0,0},
{0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0},
{1,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1},
{1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0},
{0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0},
{0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0}
};
int matrice2[20][16]={
{0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,0},
{0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,0,0,0,1,1,1,0,0},
{0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0},
{1,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1},
{1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0}
};

int matriceMorto[20][16]={
{0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,0},
{0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,0,0,0,1,1,1,0,0},
{0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0},
{1,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1},
{1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0},
{0,0,0,1,1,0,1,1,1,1,0,1,1,0,0,0},
{0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0}
};

int matriceInterazione[20][16]={
{0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,0},
{0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,0,0,0,1,1,1,0,0},
{0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,0},
{1,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1},
{1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1},
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0},
{0,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0},
{0,0,0,1,1,0,1,1,1,1,0,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,0,0,1,1,1,0,0,1,1,0,0,0},
{0,0,0,1,1,0,0,0,0,0,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0},
{0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
{0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0}
};

int soundPieno[6][8] = {
{0,0,0,1,0,0,0,1},
{0,0,1,1,0,1,0,1},
{1,1,1,1,0,1,0,1},
{1,1,1,1,0,1,0,1},
{0,0,1,1,0,1,0,1},
{0,0,0,1,0,0,0,1}
};

int soundMuto[6][9] = {
{0,0,0,1,0,0,0,0,0},
{0,0,1,1,0,1,0,0,1},
{1,1,1,1,0,0,1,1,0},
{1,1,1,1,0,0,1,1,0},
{0,0,1,1,0,1,0,0,1},
{0,0,0,1,0,0,0,0,0}
};
void drawBactery1(int liv,uint16_t color){
	int i;
	for(i=0;i<liv;i++)
		LCD_DrawRectangle(36+(i*10)+1,57,9,20,color);
	
}
void drawBactery2(int liv,uint16_t color){
	int i;
	for(i=0;i<liv;i++)
		LCD_DrawRectangle(156+(i*10)+1,57,9,20,color);
		
}

void  calculateAge(uint8_t h,uint8_t m,uint8_t s){
	char time_char[14];

	sprintf(time_char,"AGE: %02d:%02d:%02d",h,m,s);
	GUI_Text(60, 10, (uint8_t *) time_char , Black, White);

}

void disegna(uint16_t color){
	
		int row,col;
		int x0=75,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matrice1[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}

				x0=x0+5;


				}
			y0=y0+5;
			x0=75;

			}
		}
void disegnaSound(uint16_t icona,uint16_t color){
	
		int row,col;
		int x0=5,y0=5;
		if(icona == 0){//soundVuoto
			for(row=0;row<6;row++){
				for(col=0;col<9;col++){
					if(soundMuto[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,3,3,color);
				}
				x0=x0+2;
				}
				y0=y0+2;
				x0=5;
				}
			}else//soundPieno
				{
					for(row=0;row<6;row++){
						for(col=0;col<8;col++){
							if(soundPieno[row][col]==1){
						LCD_DrawRectangle(col+x0,row+y0,3,3,color);
						}
						x0=x0+2;
						}
						y0=y0+2;
						x0=5;
						}			
				}
		}
				
				


	
		void disegnaMorto(uint16_t color,int xShift){
	
		int row,col;
		int x0=xShift,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matriceMorto[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}

				x0=x0+5;


				}
			y0=y0+5;
			x0=xShift;

			}
		}
void disegnaInterazione(uint16_t color){
	
		int row,col;
		int x0=75,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matriceInterazione[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}
				x0=x0+5;
				}
			y0=y0+5;
			x0=75;

			}
		}

void disegna2(uint16_t color){
	
		int row,col;
		int x0=75,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matrice2[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}

				x0=x0+5;


				}
			y0=y0+5;
			x0=75;

			}
		}
 
void caramella(uint16_t color){
	LCD_DrawCircle(15,180,10,color);
};
void caramella2(uint16_t color){
	LCD_DrawRectangle(215,180,20,20,color);
};


void disegnaSX(uint16_t color){
	
		int row,col;
		int x0=30,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matrice2[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}

				x0=x0+5;


				}
			y0=y0+5;
			x0=30;

			}
		}
void disegnaDX(uint16_t color){
	
		int row,col;
		int x0=130,y0=110;
		for(row=0;row<20;row++){
			for(col=0;col<16;col++){
				if(matrice2[row][col]==1){
				LCD_DrawRectangle(col+x0,row+y0,6,6,color);
				}

				x0=x0+5;


				}
			y0=y0+5;
			x0=130;

			}
		}
//void cancellaTutto(void){
//				LCD_DrawRectangle(1,82,238,170,White);
//}
